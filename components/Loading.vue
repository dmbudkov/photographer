<template>
    <transition name="fade">
        <div class="preloader" v-if="showPreloader">
            <div class="preloader__icon">

                <svg width="134px" height="98px" viewBox="0 0 134 98" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="main" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="loading" transform="translate(-120.000000, -241.000000)" fill="#FFFFFF">
                            <g id="logo" transform="translate(118.500000, 240.986990)">
                                <text id="Nachinka" font-family="Rubik-Bold, Rubik" font-size="29.5081972" font-weight="bold" letter-spacing="-0.229508198">
                                    <tspan x="0.311219267" y="96.2341198">Nachink</tspan>
                                    <tspan x="119.334172" y="96.2341198">a</tspan>
                                </text>
                                <path d="M88.4426179,27.4843692 L88.4426179,27.8688525 L88.4426179,27.8688525 C88.4426179,29.2269297 87.3416788,30.3278689 85.9836016,30.3278689 C84.6255243,30.3278689 83.5245852,29.2269297 83.5245852,27.8688525 L83.5245852,27.1402171 C83.4679329,26.7462259 83.1935825,25.6380058 81.8996697,25.6380058 C80.3260028,25.6380058 80.2604333,27.2772422 80.2604333,27.2772422 L80.2604333,30.3258441 C80.2604333,30.3258441 80.2581459,30.3830296 80.2458966,30.4799587 L80.2458966,36.0655738 L80.2458966,36.0655738 C80.2458966,37.423651 79.1449575,38.5245902 77.7868802,38.5245902 C76.428803,38.5245902 75.3278638,37.423651 75.3278638,36.0655738 L75.3278638,30.5789147 C75.27002,30.181681 74.9933422,29.0804022 73.7034879,29.0804022 C72.129821,29.0804022 72.0642515,30.7196385 72.0642515,30.7196385 L72.0642515,34.1619809 C72.0642515,34.1619809 72.0625048,34.2274842 72.0491753,34.3371082 L72.0491753,36.0655738 L72.0491753,36.0655738 C72.0491753,37.423651 70.9482362,38.5245902 69.5901589,38.5245902 L69.5901589,38.5245902 C68.2320817,38.5245902 67.1311425,37.423651 67.1311425,36.0655738 L67.1311425,34.0324967 C67.0721281,33.6501034 66.7931964,32.5555832 65.5073061,32.5555832 C63.9336392,32.5555832 63.8680697,34.1948196 63.8680697,34.1948196 L63.8680697,37.4403457 C63.8680697,37.4403457 63.8647523,37.4901078 63.852454,37.5754736 L63.852454,42.6229508 L63.852454,42.6229508 C63.852454,43.9810281 62.7515149,45.0819672 61.3934376,45.0819672 L61.3934376,45.0819672 C60.0353604,45.0819672 58.9344212,43.9810281 58.9344212,42.6229508 L58.9344212,37.5151844 C58.8746994,37.0848659 58.5912119,36.063549 57.2455549,36.063549 C55.5407491,36.063549 55.5407491,37.7027854 55.5407491,37.7027854 L55.5407491,50.5543984 C55.5735338,51.4723708 56.3275825,52.1936348 57.2783396,52.1936348 C57.5078327,52.1936348 57.7373258,52.16085 57.9340341,52.0624959 C57.9340341,52.0624959 89.5385111,37.6044312 90.2269903,37.2437992 C90.9154696,36.8831672 91.9317961,36.5881047 91.9317961,34.2276043 C91.9317961,31.867104 91.9317961,23.7692764 91.9317961,23.7692764 C91.9317961,23.7692764 91.8990114,22.1628247 90.2269903,22.1628247 C88.5549693,22.1628247 88.4566151,23.7692764 88.4566151,23.7692764 L88.4566151,27.2771882 C88.4566151,27.2771882 88.4566151,27.35558 88.4426179,27.4843692 Z M51.9672138,5.01641247 C52.0327833,1.96743285 54.3604989,0.819967403 54.3277142,0.819967403 C56.8849229,-0.852053679 60.6879512,1.31173831 60.6879512,1.31173831 C60.6879512,1.31173831 88.1615525,13.9010735 91.6695183,15.5403099 C93.2431852,16.2943586 94.357866,17.0484073 94.9152063,18.163088 C95.6036856,19.5072619 95.5381161,21.2448524 95.5381161,22.5562415 C95.5381161,24.9167418 95.5381161,30.5884996 95.5381161,34.621021 C95.5381161,36.1619032 95.2430536,37.4405076 94.718498,38.2929105 C93.866095,39.6370843 92.6530601,40.030501 92.6530601,40.030501 C92.6530601,40.030501 61.0485832,54.5869199 59.7371941,55.1770449 C58.4585898,55.76717 56.393152,56.3572951 54.3277142,55.2753991 C51.8360749,53.96401 51.9672138,51.0789541 51.9672138,51.0789541 L51.9672138,5.01641247 Z" id="Combined-Shape" fill-rule="nonzero"></path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="preloader__bottom">
                <p class="preloader__text">Начни свой праздник</p>
                <div class="preloader__bar">
                    <span style="width: 30%;"></span>
                </div>
            </div>
        </div>
    </transition>
</template>
<script>

    export default {
        data:  {
            showPreloader: false
        }),
        methods: {
            start () {
                this.showPreloader = true;
            },
            finish () {
                this.showPreloader = false;
            }
        },
    mounted() {
        const bodyNode = document.body;
        // if(!window.localStorage.getItem('preloaderShowed')) {
        this.showPreloader = true;
        bodyNode.style.overflow = 'hidden';
        setTimeout(() => {
            this.showPreloader = false;
            window.localStorage.setItem('preloaderShowed', 'Y');
            bodyNode.removeAttribute('style');
        }, 8500)
        // }


    }
    }
</script>